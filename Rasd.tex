\documentclass[a4paper, 12pt, titlepage]{article}
\usepackage{graphicx}
\usepackage{hyperref}
\graphicspath{{Images/}}
\hypersetup{
	colorlinks=true,
	linkcolor=black,
	filecolor=magenta,      
	urlcolor=cyan,
}
%opening
\title{
	\begin{figure}[h]
		\centering
		\includegraphics{polimi_logo}
	\end{figure}
	Politecnico di Milano, A.A. 2015/2016 
	\newline\newline 
	Software Engineering 2: My Taxi Service 
	\textbf{R}equirements \textbf{A}nalysis and \textbf{S}pecification \textbf{D}ocument}
\author{Belotti Nicola\\ Chioso Emanuele 791621\\ Colombo Andrea}
	
	
\begin{document}

\maketitle
\tableofcontents
\newpage

\section{INTRODUCTION}
\subsection{Description of the given problem}

We will project My Taxi Service, an online service that will provide passengers an easy and reliable way to access taxi service, while allowing taxi drivers to organize themselves and make their job simple.

There will be two types of users: passengers and taxi drivers.

Passengers who wants to access the service should register in the system by providing information like name, address, phone number and e-mail. 
Once registered passengers will be able to: 
\begin{itemize}
	\item Request a taxi by specifying a valid location, the system will confirm the request by sending the user a code;
	\item Make a reservation for a taxi, in this case the passenger must provide the destination too, the reservation must be done at least 2 hours before the ride. If the reservation is succesful the system will start searching for a taxi ten minutes before the meeting time.
	\item Enable taxi sharing option, meaning that he wants to share the ride with others and thus the cost of the ride. When making a reservation the user can decide to share the ride. Other passengers decide to join the ride the system will create a path for a taxi.
\end{itemize}

To taxi drivers will be provided a different account with differents functionalities. They will be able to set their avalaibility, if they are available the system can call them to go to a specified location to pick up a passenger, a call that drivers can accept or refuse.

The system will optimize taxi queues by dividing the city in different zones of 2 km square size, and will assign to each zone a certain number of taxis organized in a queue. Each request is forwarded to the first taxi in the queue associated to the zone from which the request come.

\subsection{Actors}
	\begin{itemize}
		\item Visitor: a non registered user can only see the main page, log-in page and registration page. He can register himself by the compilation of the registration form.
		\item Passenger: a passenger has already an account, he can log-in in the system. After that he can call for a taxi using the apposite form.
		\item Taxi-Driver: a taxi driver has an account provided by the company. From this account he can manage his profile, set his availability, accept or refuse a call from the system. 
	\end{itemize}

\subsection{Goals}
	Here's the list of the goals of our application
	\begin{itemize}
		\item {[G1]} Allow a visitor to register in the system and adding/managing his information.
		\item {[G2]} Allow a user to log in to application, either he is a passenger or a taxi driver.
		\item {[G3]} Allow a passenger to make a request for a taxi.
		\item {[G4]} Allow a passenger to make a reservation for a taxi.
		\item {[G5]} Allow a passenger to enable the taxi sharing option and create a shared ride.
		\item {[G6]} Allow a passenger to cancel a request or reservation for a taxi or disabling the taxi sharing option.
		\item {[G7]} Allow a taxi driver to set his availability.
		\item {[G8]} Allow a taxi driver to accept a call for a taxi-request from the system.
		\item {[G9]} Allow a taxi driver to refuse a call for a taxi-request from the system.
		\item {[G10]} Provide a fair management of taxi queues.
	\end{itemize}

\subsection{Glossary}
We will give a specific definition of some crucial terms that we are going to often use in our documentation of the project to prevent some ambiguity of the natural language.

\begin{description}
	\item[Visitor] Every person that visits the website or downloads the application before registration. Registered users are seen as Visitors before the login.
	\item[Users] Every single person registered in the Database of the service. It includes Passengers and Drivers
	\item[Passengers] Clients registered in the database, they can only request a taxi and reserve one.  
	\item[Drivers]	Taxi Owners registered in the database, they can set their availability depending on their needs and answer or refuse calls from the system.
	\item[Request] When a Passenger uses the service to find a ride, he makes a Request. He must insert where he needs to go. The Request is sent to the available drivers who can accept or refuse it. It's the 			interaction that connects passenger and driver. 
	\item[Reservation] When a passenger uses the service to reserve a taxi so he's sure that the taxi will be available when he will need it.
	
\end{description}

\subsection{Domain Properties}
We suppose that -----andreciao----
\begin{itemize}
	\item Once a request is done, it cannot be deleted.
	\item If a passenger makes a request and the request is accepted, he will show up at the established location in time.
	\item If a driver accepts a request, he will show up at the established location in time.
	\item If a passenger joins a shared ride, he will take part to the ride.
	\item A passenger will not ask for a taxi in any way at a certain time if he knows there will be a conflict in schedules.
\end{itemize}

\subsection{Assumptions}
\begin{itemize}
	\item Users cannnot have more than one request open at the same time.
	\item Users can't create or join more than one shared ride at the sime time.
	\item Reservations must be done at least two hours before the ride.
	\item Users cannot make requests if a reserved ride is taking place within 30 minutes.
	\item Reservations can be cancelled at most 30 minutes before the scheduled time.
	\item There will be a notification by e-mail or sms and through the application 10 minutes before a reserved ride.
	\item There will be a notification sent to  the current members of a shared ride when a new passenger joins the ride.
	\item Every taxi has an attribute that shows the maximum capacity of the vehicle.
\end{itemize}

\subsection{Identifying Stakeholders}

--da vedere. possibili stakeholders: - grosse compagnie di taxi in una città ed il governo di una determinata città.

\subsection{Proposed System}
The application we will project can be implemented as an enterprise application based on the web, with a Client-Server architecture. The server will run the logic and generates web pages, a database system will be used to record information of the users. On the other side there will be several clients connecting using a web browser and a graphical user interface, or using a mobile application.	

\newpage

\section{REQUIREMENTS}
\subsection{Functional Requirements}
By analyzing the goals we came up with a list of requirements in order to achieve them:
	\begin{itemize}
		\item {[G1]} Allow a visitor to register in the system and adding/managing his information.
			\begin{itemize}
				\item {[R1]} The system will provide a registration functionality.
				\item {[R2]} System should check that username must be unique, there cannot be two users with the same username in the system.
				\item {[R3]} System will not allow visitors to see other pages than the login page.
				\item {[R4]} System will grant visitors access only to registration functionality.
			\end{itemize}
		\item {[G2]} Allow a user to log in to application, either he is a passenger or a taxi driver.
			\begin{itemize}
				\item {[R1]} The system will provide a log-in functionality.
				\item {[R2]} System will check that the tuple username-password inserted by the user exists in the database.
			\end{itemize}
		\item {[G3]} Allow a passenger to make a request for a taxi.
	\begin{itemize}
		\item {[R1]} The system will not grant access to this functionality if the user is not logged in.
		\item {[R2]} The system will forward a taxi request to a driver only if:
		\begin{itemize}
			\item The passenger provides a valid location for a taxi.
			\item Passenger is not waiting for another taxi called by a previous request.
			\item Passenger does not have a reserved ride occuring within thirty minutes.
		\end{itemize}
	\end{itemize}
		\item {[G4]} Allow a passenger to make a reservation for a taxi.
			\begin{itemize}
				\item {[R1]} The system won't grant access to this functionality if the user is not logged in.
				\item {[R2]} The system will accept the reservation if the passenger: 
				\begin{itemize}
					\item Specifies starting position, destination and leaving time of the ride
					\item Completes the reservation two hours before the ride occurs.
					\item Did not make a reservation for a ride that occurs thirty minutes before or after the requested time.					
				\end{itemize}
				\item {[R3]} If the reservation is succesful the system will call for a taxi 10 minutes before the scheduled time and send a notification to the passenger.
			\end{itemize}
		\item {[G5]} Allow a passenger to enable the taxi sharing option and create/join a shared ride.
			\begin{itemize}
				\item {[R1]} The system won't grant access to this functionality if the user is not logged in.
				\item {[R2]} If a user wants to share a ride the system will ask him to enable sharing option before starting position, destination and leaving time of the ride, then he will wait until the taxi is full or until 10 minutes before the scheduled time for other users to join the ride and finally compute a path for the ride.
				\item {[R4]} If a passenger wants to join a shared ride the system will ask him the starting position and destination he's headed, show all the possible non full rides heading in the same direction, wait for user decision and then add the user to the shared ride.
				\item {[R5]} The system will also calculate the distance and the fee of a ride and communicate it to both passengers and driver.
			\end{itemize}
		\item {[G6]} Allow a passenger to cancel a reservation.
			\begin{itemize}
				\item {[R1]} System will not allow a passenger to cancel a ride if it will occur in less than thirty minutes.
			\end{itemize}
		\item {[G7]} Allow a user to disable taxi sharing option and cancel or leave a shared ride.
			\begin{itemize}
				\item {[R1]} The system will permit the user to disable the taxi sharing option via the same interface used to enable it.
				\item {[R2]} The system will reject a cancel request of a shared ride if someone has already joined it.
				\item {[R3]} The system will not allow a passenger to leave a shared ride if it will occur in less than thirty minutes.
			\end{itemize}
		\item {[G7]} Allow a taxi driver to set his availability.
		\item {[G8]} Allow a taxi driver to accept or refuse a call for a taxi-request from the system.
		\item {[G9]} Allow a taxi driver to accept or refuse a reservation.
		\item {[G10]} Provide a fair management of taxi queues.
	\end{itemize}
\newpage

\section{SCENARIO IDENTYFING}

\newpage

\section{UML MODELS}
\subsection{Use case diagram}
\subsection{Usa case Description}
\subsection{Class Diagram}
\subsubsection{Log In}
\subsubsection{Reserve a taxi}
\subsubsection{altra roba altra roba}

\newpage

\section{ALLOY MODELLING} 
\subsection{Alloy Code}
\subsection{Alloy Worlds}
\subsection{non so cosa sia ahahahalloy}
\newpage

\section{USED TOOLS}
\newpage

\end{document}
